# 🌤️ 실시간 날씨 API 연동 가이드

## WeatherAPI.com 설정 방법

### 1️⃣ API 키 발급

1. **WeatherAPI.com 회원가입**
   - 사이트: https://www.weatherapi.com/signup.aspx
   - 이메일과 비밀번호만 입력하면 즉시 가입 완료

2. **API 키 확인**
   - 가입 후 자동으로 대시보드로 이동
   - 화면 상단에 **Your API Key**가 표시됨
   - 예시: `a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6`

### 2️⃣ 환경 변수 설정

`.env` 파일을 열어서 API 키를 입력하세요:

```bash
VITE_GEMINI_API_KEY=AIzaSyBo8l9lgOUisvm5RYNLoERuRW-t0cjMHpM
VITE_GOOGLE_MAPS_API_KEY=AIzaSyD6uqEbc-5p4rk9IOhUOefFBfFl4O5HXKs
VITE_WEATHER_API_KEY=여기에_발급받은_API_키_입력
```

### 3️⃣ 개발 서버 재시작

```bash
# 서버가 실행 중이라면 Ctrl+C로 종료 후
npm run dev
```

---

## ✨ 주요 기능

### 📡 실시간 날씨 데이터
- **3일 예보**: 오늘, 내일, 모레 날씨 정보
- **상세 정보**: 온도, 날씨 상태, 풍속, 습도
- **한국어 지원**: 날씨 상태가 한국어로 표시됨
- **좌표 기반**: 여행지의 정확한 위치 날씨 제공
- **한글/원어 병기**: 지역명이 `나하 (Naha)` 형식으로 표시

### 🗺️ 장소별 날씨 조회
- **일정 탭**에서 원하는 장소를 클릭하면
- 해당 장소의 실시간 날씨가 자동으로 조회됩니다
- 날씨 위젯이 클릭한 장소의 날씨로 업데이트됩니다

**사용 방법:**
1. 일정 탭으로 이동
2. 목록 보기 또는 지도 보기 선택
3. 원하는 장소 클릭 (예: 츄라우미 수족관)
4. 날씨 위젯에서 해당 장소의 날씨 확인!

### 💾 스마트 캐싱
- **1시간 캐싱**: 동일 위치 재조회 시 캐시 사용
- **오프라인 대응**: 캐시된 데이터로 오프라인 지원
- **API 절약**: 불필요한 API 호출 최소화

### 🎨 UX 개선
- **로딩 상태**: 날씨 정보 로딩 중 스피너 표시
- **에러 처리**: API 실패 시 목업 데이터로 폴백
- **자동 갱신**: 여행지 변경 시 자동으로 날씨 조회

---

## 🔧 API 키 없이 사용하기

API 키를 설정하지 않아도 앱은 정상 작동합니다:
- 목업 데이터가 자동으로 표시됨
- 콘솔에 경고 메시지 출력: `⚠️ Weather API key not configured. Using mock data.`

---

## 📊 WeatherAPI.com 무료 플랜

| 항목 | 제한 |
|------|------|
| **월 호출 횟수** | 1,000,000 calls |
| **일 호출 횟수** | 제한 없음 |
| **예보 기간** | 3일 |
| **데이터 갱신** | 실시간 |
| **비용** | 무료 |

→ 개인 프로젝트에 충분한 무료 할당량!

---

## 🐛 문제 해결

### 날씨가 로딩되지 않아요
1. `.env` 파일에 API 키가 올바르게 입력되었는지 확인
2. 개발 서버를 재시작했는지 확인
3. 브라우저 콘솔에서 에러 메시지 확인

### "날씨 정보를 불러올 수 없습니다" 메시지가 나와요
- API 키가 유효하지 않거나 할당량 초과
- 네트워크 연결 확인
- 목업 데이터가 자동으로 표시됩니다

---

## 📝 참고 사항

- 날씨 데이터는 **1시간마다 자동 갱신**됩니다
- 캐시는 `localStorage`에 저장됩니다
- 오프라인 모드에서도 캐시된 날씨 정보 사용 가능
