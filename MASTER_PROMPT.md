# 🚨 [최우선 원칙] 모든 대화와 응답은 반드시 '한글(Korean)'로 진행한다.

# 🚀 오키나와 여행 가이드 앱 통합 마스터 프롬프트

### [프로젝트 개요]
오키나와 가족 여행을 위한 **프리미엄 모바일 웹 앱**을 구축해줘. 단순한 정보 나열을 넘어, 사용자 경험(UX)이 매끄럽고 디자인이 미려한(Vibrant & Premium) 가이드 앱이어야 해.

### [기술 스택 및 인프라]
- **Core**: React + TypeScript + Vite
- **UI/UX**: HTML5 + Vanilla CSS (Glassmorphism), Framer Motion (애니메이션)
- **Map**: Leaflet.js (Google Maps 타일 연동)
- **Icons**: Lucide React
- **Persistence**: `localStorage`를 활용한 데이터 영구 저장 (체크리스트, 리뷰, 로그, 일정 순서)
- **Advanced**: PWA (Manifest, Service Worker 오프라인 캐싱, iOS 최적화)

### [디자인 시스템]
- **Theme**: 다크 모드와 라이트 모드를 완벽 지원하며, 유려한 전환 애니메이션 적용.
- **Style**: 투명도와 블러(Blur) 효과를 활용한 가로폭 가득한 글래스모피즘(Glassmorphism) 카드 디자인.
- **Animation**: 모든 전환(Tab, Bottom Sheet, Toggle)은 스프링 물리 기반의 부드러운 애니메이션 적용.
- **Mobile First**: iOS와 안드로이드의 노치 영역(Safe Area)을 고려한 레이아웃.

### [핵심 기능 요구사항]

#### 1. 네비게이션 및 레이아웃
- 하단 고정 네비게이션 바 (개요, 일정, 서류, 환율, 회화 탭).
- 상세 정보는 애니메이션이 적용된 '바텀 시트(Bottom Sheet)'를 통해 노출.

#### 2. 개요(Summary) 탭
- 상단 3일치 날씨 슬라이더 (드래그/스와이프 가능).
- 지도 모드와 텍스트 모드 토글 전환.
- 여행 진행률(체크리스트 기반) 프로그레스 바.
- 주요 물류/숙소(Logistics/Stay) 데이터 요약 리스트.

#### 3. 일정(Schedule) 탭
- 1, 2, 3일차별 탭 구분.
- **Map Mode**: 방문 순서가 숫자로 적힌 커스텀 마커와 툴팁. 마커 클릭 시 바텀 시트 연동.
- **List Mode**: `framer-motion`을 활용한 **드래그 앤 드롭(Reorderable)** 일정 순서 변경 및 저장.
- 장소별 체크리스트(완료 처리) 및 슬림형 날씨 위젯 상단 배치.

#### 4. 서류(Files) 및 유틸리티
- **서류 관리**: 사전 등록된 바우처 확인 및 사용자의 실시간 이미지 업로드(Base64 저장) 기능.
- **환율 계산**: JPY-KRW 실시간 API 연동 및 입력 양방향 변환.
- **필수 회화**: 상황별 필수 표현 제공 및 TTS(일본어 발음 듣기) 연동.

#### 5. 상세 보기 (Bottom Sheet)
- 구글 지도 연동, 전화번호, 맵코드 정보 제공.
- **맞춤형 회화**: 해당 장소의 카테고리(식당, 쇼핑, 숙소)에 맞는 일본어 문장 추천.
- **기록 시스템**: 장소별 별점 리뷰, 개인용 비공개 로그 메모.
- **서류 연동**: 해당 장소와 관련된 업로드 파일(이미지 등) 갤러리 노출.

#### 6. 안정성 및 최적화
- 리프레시 시 상태 유지를 위한 에러 경계(ErrorBoundary) 적용.
- Leaflet 지도 컴포넌트 마운트/언마운트 시 발생할 수 있는 DOM 에러 방지 처리.
- 오프라인에서도 핵심 데이터와 지도 타일이 유지되도록 서비스 워커 설정.

---

### [작성 지시어]
"이 앱은 완성도가 매우 높아야 하므로, 플레이스홀더를 지양하고 실제 동작하는 `data.ts`를 포함해줘. 특히 `localStorage`에 저장되는 키값이 충돌하지 않도록 정교하게 관리해야 하며, 모든 상호작용은 '프리미엄'한 느낌이 나도록 미세한 애니메이션 디테일을 살려줘."

### [UI/UX 가이드라인]
- **Alert/Confirm 금지**: 브라우저 기본 `alert()`, `confirm()` 함수 사용을 엄격히 금지함. 대신 앱 내에 구현된 `ConfirmModal`과 `Toast` 컴포넌트를 사용하여 일관된 사용자 경험을 제공할 것.
- **Loading State**: 모든 비동기 작업 시 `Loader2` 등을 활용한 로딩 상태를 명시적으로 표시할 것.
