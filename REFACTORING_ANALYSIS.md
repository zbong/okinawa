# ğŸ” ì½”ë“œ ë¦¬íŒ©í† ë§ ë¶„ì„ ë³´ê³ ì„œ

**ìƒì„±ì¼**: 2026-02-09  
**ë¶„ì„ ëŒ€ìƒ**: `e:\anti\okinawa\src` ì „ì²´

---

## ğŸ“Š ì½”ë“œë² ì´ìŠ¤ í˜„í™©

### íŒŒì¼ í¬ê¸° ìˆœìœ„ (Top 15)
| ìˆœìœ„ | íŒŒì¼ | ë¼ì¸ ìˆ˜ | í¬ê¸°(KB) | ìƒíƒœ |
|------|------|---------|----------|------|
| 1 | `App.tsx` | 1,705 | 70.4 | ğŸ”´ **ì‹¬ê°** |
| 2 | `Planner/PlannerStep3.tsx` | 1,053 | 55.2 | ğŸ”´ **ì‹¬ê°** |
| 3 | `contexts/PlannerContext.tsx` | 832 | 37.1 | ğŸŸ  **ê²½ê³ ** |
| 4 | `LocationBottomSheet.tsx` | 737 | 35.1 | ğŸŸ  **ê²½ê³ ** |
| 5 | `Planner/PlannerStep1.tsx` | 642 | 30.2 | ğŸŸ  **ê²½ê³ ** |
| 6 | `Ocr_lab/Ocr_labTab.tsx` | 612 | 22.4 | ğŸŸ  **ê²½ê³ ** |
| 7 | `Planner/PlannerStep5.tsx` | 606 | 33.0 | ğŸŸ  **ê²½ê³ ** |
| 8 | `Planner/PlannerStep4.tsx` | 603 | 31.5 | ğŸŸ  **ê²½ê³ ** |
| 9 | `Schedule/ScheduleTab.tsx` | 541 | 17.1 | ğŸŸ¡ **ì£¼ì˜** |
| 10 | `Planner/PlannerStep6.tsx` | 513 | 31.9 | ğŸŸ¡ **ì£¼ì˜** |

### ê¸°ì¤€
- ğŸ”´ **ì‹¬ê°**: 500+ ë¼ì¸ (ì¦‰ì‹œ ë¶„í•  í•„ìš”)
- ğŸŸ  **ê²½ê³ **: 300~500 ë¼ì¸ (ë¶„í•  ê¶Œì¥)
- ğŸŸ¡ **ì£¼ì˜**: 200~300 ë¼ì¸ (ê²€í†  í•„ìš”)
- ğŸŸ¢ **ì–‘í˜¸**: 200 ë¼ì¸ ë¯¸ë§Œ

---

## ğŸš¨ ì£¼ìš” ë¬¸ì œì 

### 1. ê±°ëŒ€ íŒŒì¼ (Giant Files)
**AI_GUIDELINES.md ìœ„ë°˜**: "í•œ íŒŒì¼ì´ 250~300ë¼ì¸ì„ ì´ˆê³¼í•˜ëŠ” ê²ƒì€ 'ë‚˜ìœ ì½”ë“œ'"

| íŒŒì¼ | ë¬¸ì œ | ê¶Œì¥ ì¡°ì¹˜ |
|------|------|-----------|
| `App.tsx` (1,705ì¤„) | ëª¨ë“  íƒ­ ë Œë”ë§, ëª¨ë‹¬, ìƒíƒœ ê´€ë¦¬ê°€ í•œ íŒŒì¼ì— ì§‘ì¤‘ | íƒ­ë³„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬, ëª¨ë‹¬ ë¶„ë¦¬ |
| `PlannerStep3.tsx` (1,053ì¤„) | í•­ê³µí¸ + ìˆ™ì†Œ + íŒŒì¼ì—…ë¡œë“œê°€ í˜¼ì¬ | ì„¹ì…˜ë³„ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ |
| `PlannerContext.tsx` (832ì¤„) | ë„ˆë¬´ ë§ì€ ìƒíƒœì™€ í•¨ìˆ˜ | ë„ë©”ì¸ë³„ Context ë¶„ë¦¬ |

### 2. TypeScript ì˜¤ë¥˜ (2ê°œ)
```
1. src/App.tsx:177 - 'cleanupStorage' ì„ ì–¸ í›„ ë¯¸ì‚¬ìš©
2. src/components/Schedule/ScheduleTab.tsx:336 - 'trip' is possibly 'null'
```

### 3. íƒ€ì… ì•ˆì •ì„± ë¶€ì¡± (`any` íƒ€ì… ë‚¨ìš©)
`any` íƒ€ì… ì‚¬ìš© íŒŒì¼: **26ê°œ** (ê±°ì˜ ì „ì²´)

ì£¼ìš” ìœ„ë°˜ íŒŒì¼:
- `PlannerContext.tsx`: `any` 20+ ì‚¬ìš©
- `usePlannerAI.ts`: `any` 15+ ì‚¬ìš©
- `useDocumentAnalysis.ts`: `any` 10+ ì‚¬ìš©

### 4. ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP) ìœ„ë°˜

| íŒŒì¼ | í˜„ì¬ ì±…ì„ | ë¬¸ì œì  |
|------|----------|--------|
| `App.tsx` | UI ë Œë”ë§ + ë¼ìš°íŒ… + ìƒíƒœ + ì´ë²¤íŠ¸ + ëª¨ë‹¬ | 5ê°œ ì´ìƒì˜ ì—­í•  |
| `PlannerContext.tsx` | ìƒíƒœ + AI + íŒŒì¼ + ê³µìœ  + ì˜¤í”„ë¼ì¸ | ë„ˆë¬´ ë§ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| `PlannerStep3.tsx` | êµí†µ + ìˆ™ì†Œ + íŒŒì¼ë¶„ì„ + í•­ê³µì‚¬ë§¤í•‘ | ë¶„ë¦¬ ê°€ëŠ¥í•œ ê¸°ëŠ¥ í˜¼ì¬ |

### 5. ì¤‘ë³µ ì½”ë“œ (DRY ìœ„ë°˜)

| íŒ¨í„´ | ë°œìƒ ìœ„ì¹˜ | ì¤‘ë³µ íšŸìˆ˜ |
|------|----------|----------|
| `onConfirm` í•¸ë“¤ëŸ¬ | `App.tsx`, `PlannerStep3.tsx` ë“± | 10+ |
| `ìŠ¤íƒ€ì¼ ê°ì²´` (inline) | ì „ì—­ | ìˆ˜ë°± ê°œ |
| `Toast/Modal` í˜¸ì¶œ íŒ¨í„´ | ì „ì—­ | 50+ |

### 6. ì»´í¬ë„ŒíŠ¸ ìœ„ì¹˜ ë¶ˆì¼ì¹˜

| íŒŒì¼ | í˜„ì¬ ìœ„ì¹˜ | ê¶Œì¥ ìœ„ì¹˜ |
|------|----------|----------|
| `LocationBottomSheet.tsx` | `components/` (ë£¨íŠ¸) | `components/Common/` |
| `MapComponent.tsx` | `components/` (ë£¨íŠ¸) | `components/Map/` |

---

## ğŸ“‹ ë¦¬íŒ©í† ë§ ê³„íš

### Phase 1: ê¸´ê¸‰ ìˆ˜ì • âœ… ì™„ë£Œ
**ëª©í‘œ**: TypeScript ì˜¤ë¥˜ í•´ê²° + ë¹Œë“œ ì•ˆì •í™”

1. [x] `cleanupStorage` ë¯¸ì‚¬ìš© ê²½ê³  í•´ê²° (ì‚­ì œ)
2. [x] `trip` null ì²´í¬ ì¶”ê°€ (ScheduleTab, DocumentsTab, PhrasebookTab)
3. [x] ê¸°íƒ€ ë¯¸ì‚¬ìš© ë³€ìˆ˜ ì •ë¦¬ (plannerStep, MapPin, deleteFile ë“±)
4. [x] Git ì»¤ë°‹: `d5c053e`

### Phase 2: App.tsx ë¶„í•  ğŸ”„ ì§„í–‰ ì¤‘
**ëª©í‘œ**: 1,705ì¤„ â†’ 500ì¤„ ì´í•˜
**í˜„ì¬**: 1,342ì¤„ (408ì¤„ ê°ì†Œ)

| ì¶”ì¶œ ëŒ€ìƒ | ìƒíƒœ | ìƒˆ íŒŒì¼ |
|----------|------|---------|
| ErrorBoundary | âœ… ì™„ë£Œ | `components/Common/ErrorBoundary.tsx` |
| LoadingOverlay | âœ… ì™„ë£Œ | `components/Common/LoadingOverlay.tsx` |
| LoginForm | âœ… ì™„ë£Œ | `components/Auth/LoginForm.tsx` |
| SignupForm | âœ… ì™„ë£Œ | `components/Auth/SignupForm.tsx` |
| Landing í˜ì´ì§€ | â³ ëŒ€ê¸° | `components/Landing/LandingPage.tsx` |
| ê³µìœ  ë§í¬ ì²˜ë¦¬ | â³ ëŒ€ê¸° | `hooks/useSharedLink.ts` |

Git ì»¤ë°‹: `3fa4d79`

### Phase 3: PlannerStep3 ë¶„í•  (1.5ì‹œê°„)
**ëª©í‘œ**: 1,053ì¤„ â†’ 300ì¤„ ì´í•˜

| ì¶”ì¶œ ëŒ€ìƒ | ì˜ˆìƒ ë¼ì¸ | ìƒˆ íŒŒì¼ |
|----------|----------|---------|
| í•­ê³µê¶Œ ì„¹ì…˜ | ~400 | `Planner/FlightSection.tsx` |
| ìˆ™ì†Œ ì„¹ì…˜ | ~200 | `Planner/AccommodationSection.tsx` |
| íŒŒì¼ ì—…ë¡œë“œ UI | ~150 | `Planner/FileUploadZone.tsx` |
| í•­ê³µì‚¬/ê³µí•­ ë§¤í•‘ | ~100 | `utils/airline-data.ts` |

### Phase 4: Context ë¶„í•  (2ì‹œê°„)
**ëª©í‘œ**: 832ì¤„ â†’ ê° 300ì¤„ ì´í•˜

| í˜„ì¬ | ë¶„ë¦¬ í›„ |
|------|--------|
| `PlannerContext.tsx` | `PlannerContext.tsx` (ìƒíƒœë§Œ) |
| | `hooks/usePlannerActions.ts` (ì•¡ì…˜) |
| | `hooks/useFileManager.ts` (íŒŒì¼) |
| | `hooks/useOfflineSync.ts` (ì˜¤í”„ë¼ì¸) |

### Phase 5: íƒ€ì… ê°•í™” (1ì‹œê°„)
1. [ ] `any` â†’ êµ¬ì²´ì  íƒ€ì… ë³€í™˜
2. [ ] ê³µí†µ ì¸í„°í˜ì´ìŠ¤ `types.ts`ì— ì¶”ê°€
3. [ ] Props ì¸í„°í˜ì´ìŠ¤ ëª…ì‹œ

### Phase 6: ìŠ¤íƒ€ì¼ ì •ë¦¬ (30ë¶„)
1. [ ] ë°˜ë³µ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ â†’ CSS í´ë˜ìŠ¤
2. [ ] ê³µí†µ ìŠ¤íƒ€ì¼ `design-system.css` í™•ì¥

---

## ğŸ“ˆ ì˜ˆìƒ ê²°ê³¼

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| ìµœëŒ€ íŒŒì¼ í¬ê¸° | 1,705ì¤„ | 300ì¤„ |
| TypeScript ì˜¤ë¥˜ | 2ê°œ | 0ê°œ |
| `any` íƒ€ì… ì‚¬ìš© | 100+ | 10 ì´í•˜ |
| íŒŒì¼ ìˆ˜ | ~35ê°œ | ~50ê°œ |
| ì½”ë“œ ì¬ì‚¬ìš©ì„± | ë‚®ìŒ | ë†’ìŒ |

---

## â±ï¸ ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„
- **Phase 1**: 1ì‹œê°„
- **Phase 2**: 2ì‹œê°„
- **Phase 3**: 1.5ì‹œê°„
- **Phase 4**: 2ì‹œê°„
- **Phase 5**: 1ì‹œê°„
- **Phase 6**: 0.5ì‹œê°„

**ì´í•©**: ì•½ **8ì‹œê°„** (ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ë‹¨ê³„ë³„ ì§„í–‰)

---

## ğŸ¯ ê¶Œì¥ ì‹¤í–‰ ìˆœì„œ

1. **ì˜¤ëŠ˜**: Phase 1 (ê¸´ê¸‰ ìˆ˜ì •) - ë¹Œë“œ ì•ˆì •í™”
2. **1ì°¨**: Phase 2 (App.tsx) - ê°€ì¥ í° íš¨ê³¼
3. **2ì°¨**: Phase 3 (PlannerStep3) - ë‘ ë²ˆì§¸ ê±°ëŒ€ íŒŒì¼
4. **3ì°¨**: Phase 4-6 - í’ˆì§ˆ ê°œì„ 

---

## ğŸ“ ì°¸ê³ : ìë™í™” ìŠ¤í¬ë¦½íŠ¸

ì´ì „ì— ìƒì„±ëœ ë¦¬íŒ©í† ë§ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤:
- `analyze_structure.cjs`
- `extract_component.cjs`
- `update_app.cjs`
- `refactor_all.cjs`

ë‹¨, í˜„ì¬ ì½”ë“œ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì–´ ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
